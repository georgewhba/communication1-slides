<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Communication Skills — Chapter 1</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;600;700;900&family=Rajdhani:wght@300;400;500;600;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.css">
<style>
/* ═══════════════════════ VARIABLES ═══════════════════════ */
:root {
  /* ── DARK MODE (default) ── */
  --bg:          #000005;
  --surface:     #080812;
  --surface2:    #10101c;
  --surface-hover: rgba(255,215,0,.06);
  --gold:        #FFD700;
  --gold2:       #FFA500;
  --gold-glow:   0 0 18px rgba(255,215,0,.55), 0 0 36px rgba(255,165,0,.3);
  --blue:        #4fc3f7;
  --green:       #a5d6a7;
  --purple:      #ce93d8;
  --red:         #ef9a9a;
  --text:        #dde0ff;
  --text-dim:    #5a608a;
  --border:      rgba(255,215,0,.14);
  --card-shadow: 0 4px 24px rgba(0,0,0,.6);
  --grid-line:   rgba(255,215,0,.035);
  --radial1:     rgba(255,215,0,.07);
  --radial2:     rgba(79,195,247,.06);
  --ctrl-color:  rgba(255,215,0,.45);
  --progress-bg: rgba(255,215,0,.08);
  --counter-color:rgba(255,215,0,.38);
  --mono:        'Share Tech Mono', monospace;
  --heading:     'Orbitron', sans-serif;
  --body:        'Rajdhani', 'Segoe UI', sans-serif;
}

/* ── LIGHT MODE tokens ── */
html.light {
  --bg:          #f4f4f8;
  --surface:     #ffffff;
  --surface2:    #ebebf3;
  --surface-hover: rgba(180,120,0,.07);
  --gold:        #b8860b;
  --gold2:       #c8720a;
  --gold-glow:   0 0 10px rgba(184,134,11,.30), 0 0 20px rgba(184,134,11,.15);
  --blue:        #0277bd;
  --green:       #2e7d32;
  --purple:      #7b1fa2;
  --red:         #c62828;
  --text:        #1a1a2e;
  --text-dim:    #6e6e88;
  --border:      rgba(184,134,11,.22);
  --card-shadow: 0 2px 14px rgba(0,0,0,.10);
  --grid-line:   rgba(184,134,11,.055);
  --radial1:     rgba(184,134,11,.06);
  --radial2:     rgba(2,119,189,.05);
  --ctrl-color:  rgba(184,134,11,.6);
  --progress-bg: rgba(184,134,11,.12);
  --counter-color:rgba(184,134,11,.55);
}

/* ── Universal transition for theme swap ── */
html, body, .reveal, .reveal .slides section,
.el-card, .flow-node, .ctx-card, .types-panel,
.pc-panel, .ks-item, .tip-card, .sum-chip,
.ew-item, .star-card, .concept-qbox, .sk-extra,
#progress-container, #progress-bar, #theme-toggle {
  transition:
    background-color .4s ease,
    border-color      .4s ease,
    color             .35s ease,
    box-shadow        .4s ease !important;
}

/* ═══════════════════════ RESET ═══════════════════════ */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html,body{background:var(--bg);overflow:hidden;font-family:var(--body)}

/* ═══════════════════════ GRID BACKGROUND ═══════════════════════ */
body::before{
  content:'';position:fixed;inset:0;
  background-image:
    linear-gradient(var(--grid-line) 1px,transparent 1px),
    linear-gradient(90deg,var(--grid-line) 1px,transparent 1px);
  background-size:55px 55px;
  pointer-events:none;z-index:0;
}
body::after{
  content:'';position:fixed;inset:0;
  background:
    radial-gradient(ellipse at 0% 0%,var(--radial1) 0%,transparent 50%),
    radial-gradient(ellipse at 100% 100%,var(--radial2) 0%,transparent 50%);
  pointer-events:none;z-index:0;
}

/* ═══════════════════════ REVEAL BASE ═══════════════════════ */
.reveal{font-family:var(--body);color:var(--text)}
.reveal .slides{z-index:1}
.reveal .slides section{
  background:transparent;
  height:100%;
  display:flex!important;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  padding:34px 44px;
  text-align:center;
}
.reveal .controls button{color:var(--ctrl-color)}
.reveal .controls button:hover{color:var(--gold)}
.reveal .progress{display:none}

/* ═══════════════════════ CUSTOM PROGRESS BAR ═══════════════════════ */
#progress-container{
  position:fixed;bottom:0;left:0;right:0;
  height:3px;background:var(--progress-bg);z-index:1000;
}
#progress-bar{
  height:100%;width:0%;
  background:linear-gradient(90deg,var(--gold),var(--gold2));
  box-shadow:0 0 12px var(--gold),0 0 24px rgba(255,165,0,.5);
  transition:width .35s ease;
}
#slide-counter{
  position:fixed;bottom:10px;right:18px;
  font-family:var(--mono);font-size:10px;letter-spacing:2.5px;
  color:var(--counter-color);z-index:1000;
}
#recording-indicator{
  position:fixed;top:18px;right:18px;
  font-family:var(--mono);font-size:11px;letter-spacing:2px;
  color:#ff4444;background:rgba(255,0,0,.12);
  border:1px solid rgba(255,0,0,.28);padding:4px 10px;border-radius:3px;
  z-index:1001;display:none;
}

/* ═══════════════════════ RECORDING MODE ═══════════════════════ */
body.rec-mode{cursor:none}
body.rec-mode .reveal .controls,
body.rec-mode #slide-counter,
body.rec-mode #progress-container,
body.rec-mode #theme-toggle{display:none!important}

/* ═══════════════════════ THEME TOGGLE BUTTON ═══════════════════════ */
#theme-toggle{
  position:fixed;top:14px;left:50%;transform:translateX(-50%);
  z-index:1002;display:flex;align-items:center;gap:0;
  background:var(--surface);border:1px solid var(--border);
  border-radius:40px;padding:4px;overflow:hidden;
  box-shadow:0 0 18px rgba(255,215,0,.12);
  cursor:pointer;user-select:none;
}
.tgl-option{
  font-family:var(--mono);font-size:10px;letter-spacing:2px;
  padding:5px 15px;border-radius:30px;
  color:var(--text-dim);
  transition:all .3s ease;white-space:nowrap;
  /* reset browser <button> defaults */
  background:none;border:none;cursor:pointer;
}
.tgl-option.active{
  background:var(--gold);color:#000;font-weight:700;
  box-shadow:0 0 10px var(--gold);
}
html.light .tgl-option.active{
  background:var(--gold);color:#fff;
  box-shadow:0 0 8px rgba(184,134,11,.5);
}
/* Light mode card/surface overrides */
html.light .el-card,
html.light .flow-node,
html.light .types-panel,
html.light .ks-item,
html.light .tip-card,
html.light .star-card{
  box-shadow:var(--card-shadow);
}
html.light .el-sub{border-top-color:rgba(0,0,0,.06)}
html.light .outline-item{border-bottom-color:rgba(184,134,11,.1)}
html.light .def-bullet{border-bottom-color:rgba(184,134,11,.08)}
html.light .comp-table tr:nth-child(odd) td{background:rgba(184,134,11,.03)}
html.light .comp-table td{border-bottom-color:rgba(0,0,0,.06)}
html.light .req-item{border-bottom-color:rgba(0,0,0,.05)}
html.light .model-pt{border-bottom-color:rgba(0,0,0,.05)}
html.light .sk-tech-item{border-bottom-color:rgba(0,0,0,.05)}
html.light .ew-item{background:var(--surface);box-shadow:var(--card-shadow)}
html.light .ctx-card{box-shadow:var(--card-shadow)}
html.light .kw-chip{color:#fff}
html.light .sum-chip:hover{background:var(--surface-hover)}

/* ══════════════════════════════════════════════════════
   SLIDE TYPE STYLES
══════════════════════════════════════════════════════ */

/* ── SHARED HEADER ── */
.s-title{
  font-family:var(--heading);font-size:1.28em;
  color:var(--gold);text-transform:uppercase;letter-spacing:4px;
  text-shadow:var(--gold-glow);
}
.s-subtitle{
  font-family:var(--mono);font-size:.52em;color:var(--text-dim);
  letter-spacing:3px;margin-top:5px;
}
.s-divider{
  width:72px;height:1px;background:var(--gold);
  box-shadow:0 0 8px var(--gold);margin:10px auto;
}

/* ── TITLE ── */
.title-corner{
  position:absolute;width:52px;height:52px;
  border-color:rgba(255,215,0,.32);border-style:solid;
}
.tc-tl{top:16px;left:16px;border-width:2px 0 0 2px}
.tc-tr{top:16px;right:16px;border-width:2px 2px 0 0}
.tc-bl{bottom:16px;left:16px;border-width:0 0 2px 2px}
.tc-br{bottom:16px;right:16px;border-width:0 2px 2px 0}
.title-badge{
  font-family:var(--mono);font-size:.62em;color:var(--gold);
  letter-spacing:6px;border:1px solid var(--border);
  padding:6px 18px;background:rgba(255,215,0,.05);margin-bottom:18px;
  display:inline-block;
}
.title-main{
  font-family:var(--heading);font-size:3.4em;font-weight:900;
  line-height:1.08;color:var(--gold);text-shadow:var(--gold-glow);
  letter-spacing:2px;
}
.title-line{
  width:110px;height:2px;margin:18px auto;
  background:linear-gradient(90deg,transparent,var(--gold),transparent);
}
.title-sub{
  font-family:var(--body);font-size:.82em;color:var(--text-dim);
  letter-spacing:3px;text-transform:uppercase;
}
.title-meta{
  font-family:var(--mono);font-size:.5em;color:rgba(255,215,0,.28);
  margin-top:26px;letter-spacing:4px;
}

/* ── OUTLINE ── */
.outline-list{list-style:none;text-align:left;max-width:580px;width:100%}
.outline-item{
  display:flex;align-items:center;gap:14px;
  padding:9px 0;font-size:.8em;color:var(--text);
  border-bottom:1px solid rgba(255,215,0,.05);
  font-weight:500;letter-spacing:.8px;
}
.outline-num{font-family:var(--mono);font-size:.62em;color:rgba(255,215,0,.38);min-width:26px}
.outline-dot{color:var(--gold);font-size:.7em;min-width:16px}

/* ── DEFINITION ── */
.etym-row{display:flex;align-items:center;gap:10px;justify-content:center;flex-wrap:wrap;margin-bottom:24px}
.etym-box{
  font-family:var(--mono);font-size:.6em;padding:5px 13px;
  border:1px solid var(--border);color:var(--gold);
  background:rgba(255,215,0,.04);letter-spacing:2px;
}
.etym-arrow{color:rgba(255,215,0,.45);font-size:1em}
.def-quote{
  font-family:var(--heading);font-size:1.3em;color:var(--gold);
  line-height:1.42;text-shadow:var(--gold-glow);max-width:680px;margin:16px 0;
}
.def-bullets{list-style:none;text-align:left;max-width:580px;margin-top:16px}
.def-bullet{
  padding:8px 0 8px 14px;font-size:.72em;color:var(--text-dim);
  display:flex;gap:10px;border-bottom:1px solid rgba(255,215,0,.04);
  line-height:1.45;
}
.def-bullet::before{content:'▸';color:var(--gold);min-width:14px;margin-top:1px}
.kw-row{display:flex;gap:9px;flex-wrap:wrap;justify-content:center;margin-top:20px}
.kw-chip{
  font-family:var(--mono);font-size:.58em;color:#000;background:var(--gold);
  padding:4px 12px;letter-spacing:3px;font-weight:700;
  clip-path:polygon(7px 0,100% 0,calc(100% - 7px) 100%,0 100%);
}

/* ── PROCESS FLOW ── */
.flow-row{display:flex;align-items:center;justify-content:center;gap:6px;flex-wrap:wrap;max-width:820px}
.flow-node{
  background:var(--surface);border:1px solid var(--border);
  padding:13px 16px;text-align:center;min-width:96px;
}
.flow-node-lbl{font-family:var(--mono);font-size:.62em;color:var(--gold);letter-spacing:2px;font-weight:700}
.flow-node-sub{font-size:.48em;color:var(--text-dim);margin-top:3px}
.flow-arrow{color:rgba(255,215,0,.45);font-size:1.1em}
.flow-extras{display:flex;gap:28px;justify-content:center;margin-top:14px}
.flow-extra{padding:10px 18px;text-align:center;border:1px solid;border-radius:2px}
.flow-extra-lbl{font-family:var(--mono);font-size:.58em;letter-spacing:2px;font-weight:700}
.flow-extra-sub{font-size:.48em;color:var(--text-dim);margin-top:3px}

/* ── ELEMENTS ── */
.el-grid{display:grid;grid-template-columns:1fr 1fr;gap:13px;max-width:820px;width:100%}
.el-card{
  background:var(--surface);border:1px solid var(--border);
  padding:15px 18px;text-align:left;position:relative;overflow:hidden;
}
.el-card::before{
  content:'';position:absolute;top:0;left:0;width:3px;height:100%;
  background:var(--cc,var(--gold));box-shadow:0 0 10px var(--cc,var(--gold));
}
.el-term{font-family:var(--mono);font-size:.75em;font-weight:700;letter-spacing:3px;margin-bottom:7px}
.el-desc{font-size:.66em;color:var(--text);line-height:1.5;margin-bottom:7px}
.el-sub{font-family:var(--mono);font-size:.52em;color:var(--text-dim);border-top:1px solid rgba(255,255,255,.04);padding-top:7px;line-height:1.4}

/* ── EFFECTIVE COMM ── */
.role-badge{
  font-family:var(--heading);font-size:1.38em;
  padding:9px 28px;border:1px solid;margin-bottom:22px;
  display:inline-block;letter-spacing:4px;
}
.req-list{list-style:none;text-align:left;max-width:640px;width:100%}
.req-item{
  display:flex;align-items:flex-start;gap:11px;
  padding:9px 0;font-size:.72em;color:var(--text);
  border-bottom:1px solid rgba(255,255,255,.04);line-height:1.45;
}
.req-arrow{color:var(--gold);min-width:14px;margin-top:2px}
.tech-row{display:flex;gap:9px;flex-wrap:wrap;justify-content:center;margin-top:18px}
.tech-badge{
  font-family:var(--mono);font-size:.55em;color:var(--gold);
  border:1px solid rgba(255,215,0,.25);padding:3px 10px;letter-spacing:2px;
}

/* ── MODEL ── */
.model-name{
  font-family:var(--heading);font-size:1.6em;font-weight:700;
  letter-spacing:3px;margin-bottom:14px;text-shadow:0 0 28px currentColor;
}
.model-kw{
  font-family:var(--mono);font-size:.82em;border:2px solid;
  padding:9px 28px;letter-spacing:6px;margin-bottom:20px;display:inline-block;
}
.model-desc{font-size:.72em;color:var(--text-dim);max-width:580px;margin-bottom:18px;line-height:1.6}
.model-points{list-style:none;text-align:left;max-width:630px;width:100%}
.model-pt{
  display:flex;align-items:flex-start;gap:10px;
  padding:8px 0 8px 12px;font-size:.68em;color:var(--text);
  border-bottom:1px solid rgba(255,255,255,.04);line-height:1.5;
  border-left:2px solid;
}

/* ── COMPARISON TABLE ── */
.comp-table{width:100%;max-width:760px;border-collapse:collapse;font-size:.64em}
.comp-table th{
  padding:11px 14px;font-family:var(--mono);letter-spacing:2px;
  font-size:.82em;text-align:center;
}
.comp-table td{
  padding:9px 14px;border-bottom:1px solid rgba(255,255,255,.04);
  text-align:left;line-height:1.4;
}
.comp-table tr:nth-child(odd) td{background:rgba(255,215,0,.015)}

/* ── CONTEXT CARD ── */
.ctx-card{
  background:var(--surface);border:1px solid var(--border);
  max-width:670px;width:100%;padding:28px 34px;
  position:relative;overflow:hidden;text-align:left;
}
.ctx-card::before{
  content:'';position:absolute;top:0;left:0;right:0;
  height:3px;background:var(--cc,var(--gold));
  box-shadow:0 0 20px var(--cc,var(--gold));
}
.ctx-icon{font-size:2.2em;margin-bottom:8px;display:block}
.ctx-name{font-family:var(--heading);font-size:1.3em;letter-spacing:3px;margin-bottom:7px}
.ctx-tagline{
  font-family:var(--mono);font-size:.6em;letter-spacing:4px;
  border:1px solid;padding:4px 12px;display:inline-block;margin-bottom:14px;opacity:.82;
}
.ctx-desc{font-size:.7em;color:var(--text-dim);line-height:1.6;margin-bottom:14px}
.ctx-points{list-style:none}
.ctx-pt{
  padding:6px 0;font-size:.63em;color:var(--text);
  display:flex;gap:9px;border-bottom:1px solid rgba(255,255,255,.04);line-height:1.4;
}
.ctx-pt::before{content:'▹';min-width:12px;margin-top:1px}
.ctx-kw{
  position:absolute;bottom:14px;right:14px;
  font-family:var(--mono);font-size:.48em;letter-spacing:3px;
  border:1px solid;padding:2px 8px;opacity:.45;
}

/* ── TYPES OVERVIEW ── */
.types-split{display:grid;grid-template-columns:1fr 1fr;gap:18px;max-width:750px;width:100%}
.types-panel{background:var(--surface);border:1px solid var(--border);padding:20px}
.types-panel-lbl{
  font-family:var(--mono);font-size:.76em;letter-spacing:4px;
  font-weight:700;margin-bottom:14px;display:flex;align-items:center;gap:10px;
}
.types-panel-lbl::after{content:'';flex:1;height:1px;background:currentColor;opacity:.25}
.types-panel-item{
  padding:7px 0;font-size:.66em;color:var(--text);
  display:flex;gap:9px;align-items:center;border-bottom:1px solid rgba(255,255,255,.04);
}
.types-panel-item::before{content:'◆';font-size:.6em;opacity:.6}

/* ── SKILL DETAIL ── */
.sk-name{font-family:var(--heading);font-size:1.7em;letter-spacing:3px;text-shadow:0 0 20px currentColor}
.sk-contexts{display:flex;flex-wrap:wrap;gap:7px;justify-content:center;margin:14px 0}
.sk-ctx-chip{
  font-family:var(--mono);font-size:.52em;color:var(--text-dim);
  border:1px solid rgba(255,255,255,.1);padding:3px 9px;letter-spacing:1px;
}
.sk-techniques{list-style:none;text-align:left;max-width:590px;width:100%}
.sk-tech-item{
  padding:9px 0;font-size:.7em;color:var(--text);
  display:flex;gap:10px;border-bottom:1px solid rgba(255,255,255,.04);
  line-height:1.4;
}
.sk-tech-item::before{content:'▸';color:currentColor;min-width:14px;margin-top:1px}
.sk-extra{
  font-size:.62em;color:var(--text-dim);margin-top:14px;font-style:italic;
  max-width:570px;line-height:1.6;padding:9px 14px;border-left:2px solid;
  text-align:left;
}

/* ── PROS CONS ── */
.pc-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px;max-width:750px;width:100%}
.pc-panel{background:var(--surface);padding:18px}
.pc-pros{border:1px solid rgba(165,214,167,.28);border-top:2px solid #a5d6a7}
.pc-cons{border:1px solid rgba(239,154,154,.28);border-top:2px solid #ef9a9a}
.pc-lbl{font-family:var(--mono);font-size:.62em;letter-spacing:4px;margin-bottom:12px;font-weight:700}
.pc-pros .pc-lbl{color:#a5d6a7}
.pc-cons .pc-lbl{color:#ef9a9a}
.pc-item{
  padding:7px 0;font-size:.62em;color:var(--text);
  display:flex;gap:8px;border-bottom:1px solid rgba(255,255,255,.04);
  line-height:1.4;text-align:left;
}
.pc-pros .pc-item::before{content:'✓';color:#a5d6a7;min-width:13px}
.pc-cons .pc-item::before{content:'✗';color:#ef9a9a;min-width:13px}

/* ── CONCEPT ── */
.concept-qbox{
  background:var(--surface);border-left:3px solid var(--gold);
  padding:18px 22px;max-width:670px;margin:18px 0;
  font-size:.76em;color:var(--text);line-height:1.7;
  font-style:italic;text-align:left;
  box-shadow:0 0 28px rgba(255,215,0,.05);
}
.concept-defs{list-style:none;text-align:left;max-width:630px;width:100%;counter-reset:df}
.concept-def-item{
  padding:9px 0;font-size:.66em;color:var(--text-dim);
  display:flex;gap:12px;border-bottom:1px solid rgba(255,255,255,.04);
  line-height:1.5;counter-increment:df;
}
.concept-def-item::before{
  content:counter(df,decimal-leading-zero);
  font-family:var(--mono);color:rgba(255,215,0,.38);min-width:22px;font-size:.9em;
}
.concept-kw-lg{
  font-family:var(--heading);font-size:1.9em;color:var(--gold);
  letter-spacing:6px;margin-top:14px;text-shadow:var(--gold-glow);
}

/* ── KEY SKILLS ── */
.ks-grid{display:grid;grid-template-columns:1fr 1fr;gap:9px;max-width:750px;width:100%}
.ks-item{
  background:var(--surface);border:1px solid rgba(255,215,0,.07);
  padding:11px 14px;display:flex;align-items:center;gap:11px;
  font-size:.66em;color:var(--text);line-height:1.32;text-align:left;
}
.ks-num{font-family:var(--mono);font-size:.68em;min-width:26px;font-weight:700;opacity:.82}

/* ── EDUCATION / WORK ── */
.ew-list{list-style:none;max-width:670px;width:100%}
.ew-item{
  background:var(--surface);border-left:3px solid;
  padding:11px 14px;font-size:.68em;color:var(--text);
  display:flex;gap:11px;align-items:flex-start;
  line-height:1.42;text-align:left;margin-bottom:8px;
}
.ew-num{font-family:var(--mono);font-size:.72em;min-width:22px;margin-top:1px;opacity:.8}

/* ── BUILDING SKILLS ── */
.build-list{list-style:none;max-width:610px;width:100%}
.build-item{
  display:flex;align-items:center;gap:15px;padding:13px 0;
  border-bottom:1px solid rgba(255,215,0,.05);
  font-size:.74em;color:var(--text);line-height:1.4;text-align:left;
}
.build-dot{
  width:8px;height:8px;background:var(--gold);border-radius:50%;
  box-shadow:0 0 10px var(--gold);min-width:8px;
  animation:pulse-dot 2s ease-in-out infinite;
}
@keyframes pulse-dot{0%,100%{box-shadow:0 0 6px var(--gold)}50%{box-shadow:0 0 18px var(--gold),0 0 28px rgba(255,165,0,.5)}}

/* ── STAR METHOD ── */
.star-grid{display:grid;grid-template-columns:1fr 1fr;gap:13px;max-width:670px;width:100%;margin-bottom:18px}
.star-card{
  background:var(--surface);border:1px solid;padding:18px;
  text-align:center;position:relative;overflow:hidden;
}
.star-letter{font-family:var(--heading);font-size:2.4em;font-weight:900;line-height:1;text-shadow:0 0 20px currentColor}
.star-word{font-family:var(--mono);font-size:.62em;letter-spacing:3px;margin-top:5px;opacity:.85}
.star-desc{font-size:.57em;color:var(--text-dim);margin-top:7px;line-height:1.4}
.star-tips-row{display:flex;gap:9px;flex-wrap:wrap;justify-content:center}
.star-tip{
  font-family:var(--mono);font-size:.5em;color:var(--text-dim);
  border:1px solid rgba(255,215,0,.14);padding:3px 9px;letter-spacing:1px;
}

/* ── IMPROVEMENT ── */
.imp-grid{display:grid;grid-template-columns:1fr 1fr;gap:9px;max-width:750px;width:100%}
.tip-card{
  background:var(--surface);border:1px solid rgba(255,255,255,.04);
  border-left:2px solid;padding:11px 14px;
  display:flex;align-items:center;gap:13px;text-align:left;
}
.tip-num{font-family:var(--mono);font-size:1.05em;font-weight:700;min-width:30px;opacity:.82}
.tip-text{font-size:.62em;color:var(--text);line-height:1.4}

/* ── SUMMARY ── */
.summary-sub{font-family:var(--mono);font-size:.49em;color:var(--text-dim);letter-spacing:3px;margin-bottom:12px}
.sum-grid{display:grid;grid-template-columns:repeat(4,1fr);gap:8px;max-width:820px;width:100%}
.sum-chip{
  background:var(--surface);border:1px solid rgba(255,215,0,.08);
  border-left:2px solid;padding:10px 12px;font-size:.57em;
  color:var(--text);cursor:pointer;transition:all .18s ease;
  font-family:var(--body);font-weight:500;letter-spacing:.4px;
  text-align:left;display:flex;align-items:center;gap:8px;line-height:1.3;
}
.sum-chip:hover{background:rgba(255,215,0,.08);transform:translateY(-2px) scale(1.02);box-shadow:0 0 14px rgba(255,215,0,.14)}
.sum-chip-n{font-family:var(--mono);font-size:.72em;opacity:.4;min-width:18px}

/* ═══════════════════════ SCREEN-READER ONLY ═══════════════════════ */
.sr-only{
  position:absolute;width:1px;height:1px;padding:0;margin:-1px;
  overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;
}

/* ═══════════════════════ SKIP LINK ═══════════════════════ */
#skip-link{
  position:fixed;top:-100px;left:50%;transform:translateX(-50%);
  background:var(--gold);color:#000;font-family:var(--mono);font-size:.75em;
  font-weight:700;letter-spacing:2px;padding:10px 22px;border-radius:3px;
  z-index:99999;text-decoration:none;transition:top .2s ease;
}
#skip-link:focus{top:12px}

/* ═══════════════════════ FOCUS STYLES ═══════════════════════ */
/* Global visible focus ring — overrides browser default */
:focus-visible{
  outline:2px solid var(--gold);
  outline-offset:3px;
  box-shadow:0 0 0 4px rgba(255,215,0,.25);
  border-radius:2px;
}
/* Theme toggle buttons */
.tgl-option:focus-visible{
  outline:2px solid var(--gold);
  outline-offset:2px;
  box-shadow:0 0 0 4px rgba(255,215,0,.3);
  border-radius:30px;
}
/* Summary chips */
.sum-chip:focus-visible{
  outline:2px solid var(--gold);
  outline-offset:2px;
  box-shadow:0 0 14px rgba(255,215,0,.4);
}

/* ═══════════════════════ REDUCED MOTION ═══════════════════════ */
@media (prefers-reduced-motion: reduce){
  *,*::before,*::after{
    animation-duration:.01ms !important;
    animation-iteration-count:1 !important;
    transition-duration:.01ms !important;
  }
  .build-dot{animation:none}
}

/* ─────── RESPONSIVE ─────── */
@media (max-width:680px),(max-height:480px){
  .el-grid,.types-split,.pc-grid,.ks-grid,.star-grid,.imp-grid{grid-template-columns:1fr}
  .sum-grid{grid-template-columns:repeat(2,1fr)}
  .title-main{font-size:2.4em}
  .reveal .slides section{padding:20px 22px}
}
@media (max-aspect-ratio:9/16){
  .sum-grid{grid-template-columns:repeat(2,1fr)}
  .reveal .slides section{padding:18px 20px}
}
</style>
</head>
<body>
<!-- Skip link: lets keyboard users jump past nav chrome -->
<a id="skip-link" href="#deck">Skip to slides</a>

<!-- Screen-reader-only live region: announces slide changes -->
<div id="sr-announcer" aria-live="polite" aria-atomic="true"
     style="position:fixed;width:1px;height:1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0"></div>

<div class="reveal" role="main" aria-label="Presentation">
  <div class="slides" id="deck" aria-label="Slides"></div>
</div>

<div id="progress-container"
     role="progressbar"
     aria-label="Presentation progress"
     aria-valuemin="0"
     aria-valuemax="100"
     aria-valuenow="0">
  <div id="progress-bar"></div>
</div>

<div id="slide-counter"
     aria-live="polite"
     aria-atomic="true"
     aria-label="Slide position">01 / 35</div>

<div id="recording-indicator"
     role="status"
     aria-live="assertive"
     aria-atomic="true">● REC MODE</div>

<!-- ── THEME TOGGLE ── -->
<div id="theme-toggle"
     role="group"
     aria-label="Color theme">
  <button class="tgl-option active"
          id="tgl-dark"
          aria-pressed="true"
          title="Switch to dark mode (T)">◑ DARK</button>
  <button class="tgl-option"
          id="tgl-light"
          aria-pressed="false"
          title="Switch to light mode (T)">☀ LIGHT</button>
</div>

<script src="https://cdn.jsdelivr.net/npm/reveal.js@5.1.0/dist/reveal.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script>
/* ======================================================
   DATA — injected by Python
   ====================================================== */
const SLIDES_DATA = [
  {
    "id": 0,
    "type": "title",
    "chapter": "CHAPTER ONE",
    "title": "COMMUNICATION<br>SKILLS",
    "subtitle": "Foundations of Professional Communication",
    "meta": "Computer Science Program · Academic Year 2025-2026"
  },
  {
    "id": 1,
    "type": "outline",
    "title": "Chapter Outlines",
    "items": [
      "Communication Concepts & Definitions",
      "Essential Components of Communication",
      "Models of Communication",
      "Communication in Context — 5 Levels",
      "Types of Communication Skills",
      "General vs. Professional Communication",
      "Key Skills, Education, Work & Improvement"
    ]
  },
  {
    "id": 2,
    "type": "definition",
    "title": "Communication Definition",
    "etymology": [
      "LATIN ORIGIN",
      "Communico / Communicare",
      "= TO SHARE"
    ],
    "definition": "\"The process of understanding and sharing meaning\"",
    "bullets": [
      "Transmission & interchange of facts, ideas, feelings, and actions",
      "Most common medium: Language — plus codes and symbols",
      "Core of all human interaction, personal and professional"
    ],
    "keywords": [
      "SHARE",
      "PROCESS",
      "MEANING",
      "ENCODE"
    ]
  },
  {
    "id": 3,
    "type": "process_flow",
    "title": "The Communication Process",
    "nodes": [
      {
        "label": "SENDER",
        "sub": "Information Source"
      },
      {
        "label": "ENCODING",
        "sub": "Convert to symbols"
      },
      {
        "label": "CHANNEL",
        "sub": "Transmission medium"
      },
      {
        "label": "DECODING",
        "sub": "Interpret symbols"
      },
      {
        "label": "RECEIVER",
        "sub": "Destination"
      }
    ],
    "extras": [
      {
        "label": "NOISE",
        "sub": "Anything that distorts the message",
        "color": "#ef9a9a"
      },
      {
        "label": "FEEDBACK",
        "sub": "Response loop back to sender",
        "color": "#4fc3f7"
      }
    ]
  },
  {
    "id": 4,
    "type": "elements",
    "title": "Elements of Communication",
    "subtitle": "Part I — The Core Components",
    "items": [
      {
        "term": "SENDER",
        "color": "#FFD700",
        "desc": "Originates the message; the information source (encoder)",
        "sub": "Encoding: Converting message into a form the receiver understands"
      },
      {
        "term": "RECEIVER",
        "color": "#4fc3f7",
        "desc": "Person who interprets or decodes the message (destination)",
        "sub": "Decoding: Translating message into a meaningful form"
      },
      {
        "term": "MESSAGE",
        "color": "#a5d6a7",
        "desc": "The content — what is actually communicated",
        "sub": "Can be verbal, non-verbal, written, or symbolic"
      },
      {
        "term": "CHANNEL",
        "color": "#ce93d8",
        "desc": "The medium through which the message travels to the receiver",
        "sub": "Choice of channel depends on the situation and context"
      }
    ]
  },
  {
    "id": 5,
    "type": "elements",
    "title": "Elements of Communication",
    "subtitle": "Part II — Context & Interference",
    "items": [
      {
        "term": "FEEDBACK",
        "color": "#FFD700",
        "desc": "Sender's observation of the receiver's response/reaction",
        "sub": "Closes the communication loop; confirms understanding"
      },
      {
        "term": "ENVIRONMENT",
        "color": "#4fc3f7",
        "desc": "Physical & psychological atmosphere for sending/receiving",
        "sub": "Includes physical space, emotional climate, cultural context"
      },
      {
        "term": "CONTEXT",
        "color": "#a5d6a7",
        "desc": "The setting, scene, and expectations of individuals involved",
        "sub": "Shapes how messages are encoded and decoded"
      },
      {
        "term": "NOISE",
        "color": "#ef9a9a",
        "desc": "Anything that BLOCKS or CHANGES the source's intended meaning",
        "sub": "Physical, psychological, semantic, or cultural interference"
      }
    ]
  },
  {
    "id": 6,
    "type": "effective_comm",
    "title": "Effective Communication",
    "role": "THE SENDER",
    "role_color": "#FFD700",
    "requirements": [
      "Know the audience — establish RAPPORT (علاقة/فهم/اتصال)",
      "Choose an appropriate communication channel",
      "Speak at the level of the receiver",
      "Be genuinely interested in the subject",
      "Know the subject well before communicating it"
    ],
    "tech_keywords": [
      "RAPPORT",
      "CHANNEL",
      "LEVEL",
      "ENCODE",
      "AUDIENCE"
    ]
  },
  {
    "id": 7,
    "type": "effective_comm",
    "title": "Effective Communication",
    "role": "THE MESSAGE",
    "role_color": "#4fc3f7",
    "requirements": [
      "Relevant to the receiver's specific needs",
      "Applicable and suitable to the situation",
      "Clear and concise — no ambiguity",
      "Accurate and factually correct",
      "Timely — delivered at the right moment",
      "Meaningful — adds value for the receiver"
    ],
    "tech_keywords": [
      "RELEVANT",
      "CLEAR",
      "ACCURATE",
      "TIMELY",
      "MEANINGFUL"
    ]
  },
  {
    "id": 8,
    "type": "effective_comm",
    "title": "Effective Communication",
    "role": "THE CHANNEL",
    "role_color": "#a5d6a7",
    "requirements": [
      "Affordable — accessible and cost-effective",
      "Appropriate for the message type and audience",
      "Attractive — captures and engages the receiver"
    ],
    "tech_keywords": [
      "AFFORDABLE",
      "APPROPRIATE",
      "ATTRACTIVE",
      "MEDIUM"
    ]
  },
  {
    "id": 9,
    "type": "effective_comm",
    "title": "Effective Communication",
    "role": "THE RECEIVER",
    "role_color": "#ce93d8",
    "requirements": [
      "Be aware, interested, and willing to accept the message",
      "Understand the value and relevance of the message",
      "Listen attentively — minimise distractions",
      "Provide clear and timely feedback to the sender"
    ],
    "tech_keywords": [
      "AWARE",
      "LISTEN",
      "DECODE",
      "FEEDBACK",
      "ACCEPT"
    ]
  },
  {
    "id": 10,
    "type": "model",
    "title": "Models of Communication",
    "model_name": "TRANSACTIONAL MODEL",
    "model_color": "#FFD700",
    "description": "Communication as a transactional process — both parties send & receive simultaneously",
    "key_points": [
      "Actions often happen AT THE SAME TIME — not sequentially",
      "Distinction between source and receiver is UNCLEAR",
      "Both parties are called COMMUNICATORS (roles interchange)",
      "Explicitly includes CONTEXT and ENVIRONMENT as factors",
      "Includes NOISE and communication barriers",
      "Accounts for NON-VERBAL communication signals"
    ],
    "keyword": "SIMULTANEOUS"
  },
  {
    "id": 11,
    "type": "model",
    "title": "Models of Communication",
    "model_name": "CONSTRUCTIVIST MODEL",
    "model_color": "#4fc3f7",
    "description": "Each communicator constructs their own unique interpretation of a message",
    "key_points": [
      "\"What I said and what you HEARD may be completely different\"",
      "Focus on NEGOTIATED MEANING — finding common ground",
      "Both parties simultaneously act as Receiver & Source",
      "Meaning is CO-CONSTRUCTED, not simply transmitted",
      "Understanding requires SHARED context and background"
    ],
    "keyword": "NEGOTIATED MEANING"
  },
  {
    "id": 12,
    "type": "comparison_table",
    "title": "Models — Side-by-Side Comparison",
    "col1": "TRANSACTIONAL MODEL",
    "col2": "OTHER MODELS",
    "col1_color": "#FFD700",
    "col2_color": "#4fc3f7",
    "rows": [
      [
        "Interpersonal communication",
        "Intrapersonal, group, or mass"
      ],
      [
        "Senders/Receivers = Communicators (interchangeable)",
        "Senders and receivers are distinct people"
      ],
      [
        "Includes context and environment",
        "Context and environment NOT mentioned"
      ],
      [
        "Includes noise & communication barriers",
        "Noise concept may be absent"
      ],
      [
        "Accounts for non-verbal communication",
        "Ignores non-verbal signals"
      ],
      [
        "Provides simultaneous feedback",
        "Feedback comes later or is absent"
      ]
    ]
  },
  {
    "id": 13,
    "type": "context_card",
    "title": "Communication in Context",
    "context_name": "INTRAPERSONAL",
    "context_color": "#FFD700",
    "icon": "◉",
    "tagline": "\"Talk With Yourself\"",
    "description": "Communication involving only ONE person — often called 'Self-Talk'",
    "points": [
      "Internal dialogue, reflection, and self-reasoning",
      "Can be positive (confidence) or negative (self-doubt)",
      "Directly influences how you perceive situations",
      "Affects all your reactions in external communications"
    ],
    "keyword": "SELF-TALK"
  },
  {
    "id": 14,
    "type": "context_card",
    "title": "Communication in Context",
    "context_name": "INTERPERSONAL",
    "context_color": "#4fc3f7",
    "icon": "⇄",
    "tagline": "Between TWO People",
    "description": "Normally involves two people; ranges across a wide spectrum",
    "points": [
      "Can be friendly and very personal (between friends)",
      "Can be formal and impersonal (professional context)",
      "Most common form of daily human communication",
      "Foundation for building all relationships"
    ],
    "keyword": "ONE-TO-ONE"
  },
  {
    "id": 15,
    "type": "context_card",
    "title": "Communication in Context",
    "context_name": "GROUP COMMUNICATION",
    "context_color": "#a5d6a7",
    "icon": "◎",
    "tagline": "3 to 8 People",
    "description": "A dynamic process where a small number of people engage in conversation",
    "points": [
      "Involves three to eight people",
      "Key factors: Age, Education, Sex, Location",
      "Understanding group preferences and dislikes",
      "More complex dynamics than interpersonal"
    ],
    "keyword": "GROUP DYNAMICS"
  },
  {
    "id": 16,
    "type": "context_card",
    "title": "Communication in Context",
    "context_name": "PUBLIC COMMUNICATION",
    "context_color": "#ce93d8",
    "icon": "▲",
    "tagline": "One Speaker → Many",
    "description": "One person speaks or writes to a group of people",
    "points": [
      "Speaker can ask questions and engage the audience",
      "Conversation dynamics distinct from group communication",
      "Different rules apply compared to group settings",
      "Examples: lectures, speeches, presentations, articles"
    ],
    "keyword": "ONE-TO-MANY"
  },
  {
    "id": 17,
    "type": "context_card",
    "title": "Communication in Context",
    "context_name": "MASS COMMUNICATION",
    "context_color": "#ef9a9a",
    "icon": "⊛",
    "tagline": "One Message → Millions",
    "description": "Sending a single message to a very large group via media channels",
    "points": [
      "Powerful force in modern society and daily life",
      "Rapidly adapting to new digital technologies",
      "Uses multimedia: TV, radio, internet, social media",
      "References common cultural programs, films, and images"
    ],
    "keyword": "BROADCAST"
  },
  {
    "id": 18,
    "type": "types_overview",
    "title": "Types of Communication Skills",
    "verbal": {
      "label": "VERBAL",
      "color": "#FFD700",
      "items": [
        "Speaking (Oral)",
        "Written",
        "Listening",
        "Reading"
      ]
    },
    "nonverbal": {
      "label": "NON-VERBAL",
      "color": "#4fc3f7",
      "items": [
        "Signs & Symbols",
        "Body Language",
        "Facial Expressions",
        "Touch",
        "Style of Clothing",
        "Voice Characteristics"
      ]
    }
  },
  {
    "id": 19,
    "type": "skill_detail",
    "title": "Communication Skills",
    "skill_name": "VERBAL COMMUNICATION",
    "skill_sub": "Speaking — Oral",
    "skill_color": "#FFD700",
    "contexts": [
      "Meetings",
      "Presentations",
      "Workshops",
      "In-person Interviews",
      "Telephonic",
      "Video Conferencing"
    ],
    "techniques": [
      "Using Positive Language — frame things constructively",
      "Using 'I' Statements — take ownership of your message",
      "Confidence vs. Aggression — assertive, not domineering",
      "Speaking Style & Tonality — tone, tempo, and timbre matter"
    ]
  },
  {
    "id": 20,
    "type": "pros_cons",
    "title": "Verbal Communication",
    "subtitle": "Advantages vs. Limitations",
    "color": "#FFD700",
    "pros": [
      "Flexible and adaptable mid-conversation",
      "Immediate clarification and feedback possible",
      "Time-efficient for quick exchanges",
      "Strong for persuasion and control",
      "Convenient and reliable for groups"
    ],
    "cons": [
      "No future reference — not recorded",
      "Ineffective if the speaker communicates poorly",
      "Not suitable for lengthy technical details",
      "Risk of misrepresentation or misunderstanding",
      "Poor retention — people forget spoken words"
    ]
  },
  {
    "id": 21,
    "type": "skill_detail",
    "title": "Communication Skills",
    "skill_name": "WRITTEN COMMUNICATION",
    "skill_sub": "Documentation & Records",
    "skill_color": "#4fc3f7",
    "contexts": [
      "Email",
      "Business Memos",
      "Formal Letters",
      "Bulletin Boards",
      "Brochures",
      "Reports",
      "Handouts",
      "PowerPoints"
    ],
    "techniques": [
      "Most effective for explaining complex concepts and issuing instructions",
      "Creates a permanent paper trail for future reference",
      "Best medium for transferring precise technical information",
      "Formality level depends on relationship and communication purpose"
    ]
  },
  {
    "id": 22,
    "type": "pros_cons",
    "title": "Written Communication",
    "subtitle": "Advantages vs. Limitations",
    "color": "#4fc3f7",
    "pros": [
      "Most wanted and highly reliable form",
      "Permanent — creates a lasting record",
      "Serves as legal evidence when needed",
      "Accurate and precise by nature",
      "Suitable for lengthy and complex information"
    ],
    "cons": [
      "Limited to literate audiences only",
      "Delayed feedback — no immediate response",
      "Time consuming to produce",
      "Costly to distribute at scale",
      "Formal and less flexible than verbal"
    ]
  },
  {
    "id": 23,
    "type": "skill_detail",
    "title": "Communication Skills",
    "skill_name": "LISTENING",
    "skill_sub": "Active Reception",
    "skill_color": "#a5d6a7",
    "contexts": [
      "Lectures",
      "Meetings",
      "Interviews",
      "Feedback Sessions",
      "Team Discussions",
      "Client Calls"
    ],
    "techniques": [
      "Hear AND understand the content — not just the words",
      "Decode all non-verbal signals embedded in delivery",
      "Filter the message without bias or prejudice",
      "Considered the MOST DIFFICULT communication skill to master"
    ],
    "extra": "A company that listens effectively is open to Ideas, Feedback & Innovations — and predictably marches forward."
  },
  {
    "id": 24,
    "type": "skill_detail",
    "title": "Communication Skills",
    "skill_name": "READING",
    "skill_sub": "Comprehension & Analysis",
    "skill_color": "#ce93d8",
    "contexts": [
      "Academic Texts",
      "Reports",
      "Emails",
      "Technical Docs",
      "Research Papers",
      "Code Documentation"
    ],
    "techniques": [
      "A threatened skill — people increasingly read less deeply",
      "Many limit 'reading' to social media and instant messaging",
      "At LEAST half of all professional communication is written",
      "Critical for success as student, employee, manager, or executive"
    ]
  },
  {
    "id": 25,
    "type": "comparison_table",
    "title": "General vs. Professional Communication",
    "col1": "GENERAL COMMUNICATION",
    "col2": "PROFESSIONAL / TECHNICAL",
    "col1_color": "#4fc3f7",
    "col2_color": "#FFD700",
    "rows": [
      [
        "Contains a general message",
        "Contains a technical/specialised message"
      ],
      [
        "Informal in style and approach",
        "Mostly formal in structure"
      ],
      [
        "No set pattern or structure",
        "Follows a strict set pattern"
      ],
      [
        "Mostly oral and conversational",
        "Both oral and written"
      ],
      [
        "Not always for a specific audience",
        "ALWAYS for a specific, identified audience"
      ],
      [
        "No technical vocabulary or graphics",
        "Frequently uses jargon, graphics & symbols"
      ]
    ]
  },
  {
    "id": 26,
    "type": "concept",
    "title": "Skill to Communicate",
    "main_quote": "The ability to translate technical information to non-specialists is a KEY SKILL to any technical communicator.",
    "definitions": [
      "The LEARNED ability to achieve a predetermined result with maximum certainty and efficiency",
      "An ability to perform an activity in a competent and reliable manner",
      "The abilities that one owns — developed through deliberate practice"
    ],
    "keyword": "COMPETENCY"
  },
  {
    "id": 27,
    "type": "key_skills",
    "title": "Key Communication Skills",
    "subtitle": "For Positive Interpersonal Relationships",
    "color": "#FFD700",
    "skills": [
      "Active listening — fully engaged, not passive",
      "Understanding non-verbal signals from others",
      "Maintaining appropriate eye contact",
      "Assertiveness and Confidence (not aggression)",
      "Being mindful of people's personal space",
      "Using positive, open body language",
      "Dealing constructively with different viewpoints"
    ]
  },
  {
    "id": 28,
    "type": "key_skills",
    "title": "Key Communication Skills",
    "subtitle": "Personal Awareness Skills",
    "color": "#a5d6a7",
    "skills": [
      "Understanding the benefits of maintaining a positive attitude",
      "Awareness of how others perceive you in conversations",
      "Building and maintaining genuine self-confidence",
      "Presentation — dressing appropriately for different occasions"
    ]
  },
  {
    "id": 29,
    "type": "education_work",
    "title": "Communication Skills in Education",
    "color": "#ef9a9a",
    "subtitle": "How Good Communication Skills Help Students",
    "points": [
      "Understand and absorb what has been taught",
      "Present your work clearly — from homework to reports",
      "Make presentations and speeches with more confidence",
      "Ask better questions to boost your understanding",
      "Progress effectively within team and project groups",
      "Share ideas in a way that makes people want to listen"
    ]
  },
  {
    "id": 30,
    "type": "education_work",
    "title": "Communication Skills at Work",
    "color": "#4fc3f7",
    "subtitle": "How Good Communication Skills Help Professionals",
    "points": [
      "Give presentations and reports with increased confidence",
      "Maintain a professional phone manner with clients",
      "Send typo-free emails matching the professional tone",
      "Build strong relationships with managers and teammates",
      "Listen carefully to fully understand requirements",
      "Network effectively to discover new opportunities",
      "Share ideas that colleagues genuinely appreciate"
    ]
  },
  {
    "id": 31,
    "type": "building_skills",
    "title": "Building Communication Skills",
    "subtitle": "Practical Development Activities",
    "tips": [
      "Watch and learn from the body language of others",
      "Contribute your ideas actively to team projects",
      "Volunteer to give presentations — embrace the discomfort",
      "Practice job interviews at home with a friend or mirror",
      "Write a blog, journal, or regular LinkedIn posts"
    ]
  },
  {
    "id": 32,
    "type": "star_method",
    "title": "STAR Method — Job Interviews",
    "subtitle": "The interview technique for structured storytelling",
    "acronym": [
      {
        "letter": "S",
        "word": "SITUATION",
        "color": "#FFD700",
        "desc": "Set the context and scene"
      },
      {
        "letter": "T",
        "word": "TASK",
        "color": "#4fc3f7",
        "desc": "Describe your responsibility"
      },
      {
        "letter": "A",
        "word": "ACTION",
        "color": "#a5d6a7",
        "desc": "Explain the steps you took"
      },
      {
        "letter": "R",
        "word": "RESULT",
        "color": "#ef9a9a",
        "desc": "Share the measurable outcome"
      }
    ],
    "tips": [
      "Be Prepared",
      "Be Specific",
      "Be Quantitative",
      "Be Concise",
      "Be Honest"
    ]
  },
  {
    "id": 33,
    "type": "improvement",
    "title": "Communication Skills Improvement",
    "subtitle": "10 Evidence-Based Strategies",
    "tips": [
      {
        "num": "01",
        "text": "Check your message carefully before hitting send",
        "color": "#FFD700"
      },
      {
        "num": "02",
        "text": "Know and adapt to who you are talking to",
        "color": "#4fc3f7"
      },
      {
        "num": "03",
        "text": "Body language matters — use it consciously",
        "color": "#a5d6a7"
      },
      {
        "num": "04",
        "text": "Be brief, yet specific and unambiguous",
        "color": "#ce93d8"
      },
      {
        "num": "05",
        "text": "Listen, listen, and listen some more",
        "color": "#ef9a9a"
      },
      {
        "num": "06",
        "text": "Maintain a positive attitude and smile",
        "color": "#FFD700"
      },
      {
        "num": "07",
        "text": "Sometimes it is better to pick up the phone",
        "color": "#4fc3f7"
      },
      {
        "num": "08",
        "text": "Think carefully before you speak",
        "color": "#a5d6a7"
      },
      {
        "num": "09",
        "text": "Treat every person equally and with respect",
        "color": "#ce93d8"
      },
      {
        "num": "10",
        "text": "Write things down — document everything important",
        "color": "#ef9a9a"
      }
    ]
  },
  {
    "id": 34,
    "type": "summary",
    "title": "CHAPTER 1 — SUMMARY",
    "subtitle": "◈  Click any topic to navigate directly to that slide  ◈",
    "topics": [
      {
        "label": "Communication Definition",
        "slide": 2,
        "color": "#FFD700"
      },
      {
        "label": "Communication Process",
        "slide": 3,
        "color": "#4fc3f7"
      },
      {
        "label": "Elements — Part I",
        "slide": 4,
        "color": "#a5d6a7"
      },
      {
        "label": "Elements — Part II",
        "slide": 5,
        "color": "#ce93d8"
      },
      {
        "label": "Effective Comm: Sender",
        "slide": 6,
        "color": "#ef9a9a"
      },
      {
        "label": "Effective Comm: Message",
        "slide": 7,
        "color": "#FFD700"
      },
      {
        "label": "Effective Comm: Channel",
        "slide": 8,
        "color": "#4fc3f7"
      },
      {
        "label": "Effective Comm: Receiver",
        "slide": 9,
        "color": "#a5d6a7"
      },
      {
        "label": "Transactional Model",
        "slide": 10,
        "color": "#ce93d8"
      },
      {
        "label": "Constructivist Model",
        "slide": 11,
        "color": "#ef9a9a"
      },
      {
        "label": "Models Comparison",
        "slide": 12,
        "color": "#FFD700"
      },
      {
        "label": "Intrapersonal Context",
        "slide": 13,
        "color": "#4fc3f7"
      },
      {
        "label": "Interpersonal Context",
        "slide": 14,
        "color": "#a5d6a7"
      },
      {
        "label": "Group Communication",
        "slide": 15,
        "color": "#ce93d8"
      },
      {
        "label": "Public Communication",
        "slide": 16,
        "color": "#ef9a9a"
      },
      {
        "label": "Mass Communication",
        "slide": 17,
        "color": "#FFD700"
      },
      {
        "label": "Verbal Communication",
        "slide": 19,
        "color": "#4fc3f7"
      },
      {
        "label": "Written Communication",
        "slide": 21,
        "color": "#a5d6a7"
      },
      {
        "label": "Listening Skills",
        "slide": 23,
        "color": "#ce93d8"
      },
      {
        "label": "Reading Skills",
        "slide": 24,
        "color": "#ef9a9a"
      },
      {
        "label": "General vs Professional",
        "slide": 25,
        "color": "#FFD700"
      },
      {
        "label": "STAR Method",
        "slide": 32,
        "color": "#4fc3f7"
      },
      {
        "label": "10 Improvement Tips",
        "slide": 33,
        "color": "#a5d6a7"
      },
      {
        "label": "Key Communication Skills",
        "slide": 27,
        "color": "#ce93d8"
      }
    ]
  }
];

/* ======================================================
   RENDER HELPERS
   ====================================================== */
const h = (tag, cls, content, style='') =>
  `<${tag} class="${cls}" style="${style}">${content}</${tag}>`;

function renderSlide(s){
  switch(s.type){
    case 'title':         return rTitle(s);
    case 'outline':       return rOutline(s);
    case 'definition':    return rDef(s);
    case 'process_flow':  return rFlow(s);
    case 'elements':      return rElements(s);
    case 'effective_comm':return rEffective(s);
    case 'model':         return rModel(s);
    case 'comparison_table':return rCompare(s);
    case 'context_card':  return rContext(s);
    case 'types_overview':return rTypesOv(s);
    case 'skill_detail':  return rSkillDet(s);
    case 'pros_cons':     return rProsCons(s);
    case 'concept':       return rConcept(s);
    case 'key_skills':    return rKeySkills(s);
    case 'education_work':return rEduWork(s);
    case 'building_skills':return rBuilding(s);
    case 'star_method':   return rStar(s);
    case 'improvement':   return rImprovement(s);
    case 'summary':       return rSummary(s);
    default: return `<div style="color:#fff">Slide ${s.id}</div>`;
  }
}

/* ── Title ── */
function rTitle(s){
  return `
    <div class="title-corner tc-tl" aria-hidden="true"></div>
    <div class="title-corner tc-tr" aria-hidden="true"></div>
    <div class="title-corner tc-bl" aria-hidden="true"></div>
    <div class="title-corner tc-br" aria-hidden="true"></div>
    <div class="title-badge" aria-hidden="true">${s.chapter}</div>
    <h1 class="title-main">${s.title}</h1>
    <div class="title-line" aria-hidden="true"></div>
    <p class="title-sub">${s.subtitle}</p>
    <div class="title-meta" aria-hidden="true">${s.meta}</div>`;
}

/* ── Outline ── */
function rOutline(s){
  const items = s.items.map((it,i)=>`
    <li class="outline-item">
      <span class="outline-num" aria-hidden="true">${String(i+1).padStart(2,'0')}</span>
      <span class="outline-dot" aria-hidden="true">◈</span>${it}
    </li>`).join('');
  return `
    <div class="s-title" style="margin-bottom:6px">${s.title}</div>
    <div class="s-divider" aria-hidden="true"></div>
    <ul class="outline-list" style="margin-top:14px">${items}</ul>`;
}

/* ── Definition ── */
function rDef(s){
  const etymHtml = s.etymology.map((e,i)=>
    i<s.etymology.length-1
      ? `<span class="etym-box">${e}</span><span class="etym-arrow" aria-hidden="true">→</span>`
      : `<span class="etym-box">${e}</span>`
  ).join('');
  const bullets = s.bullets.map(b=>`<li class="def-bullet">${b}</li>`).join('');
  const kws = s.keywords.map(k=>`<span class="kw-chip">${k}</span>`).join('');
  return `
    <div class="s-title" style="margin-bottom:4px">${s.title}</div>
    <div class="s-divider" aria-hidden="true"></div>
    <div class="etym-row" style="margin-top:16px" aria-label="Etymology">${etymHtml}</div>
    <blockquote class="def-quote">${s.definition}</blockquote>
    <ul class="def-bullets">${bullets}</ul>
    <div class="kw-row" aria-label="Key terms">${kws}</div>`;
}

/* ── Process Flow ── */
function rFlow(s){
  const nodes = s.nodes.map((n,i)=>{
    const arr = i<s.nodes.length-1 ? '<span class="flow-arrow" aria-hidden="true">→</span>':''
    return `<div class="flow-node"><div class="flow-node-lbl">${n.label}</div><div class="flow-node-sub">${n.sub}</div></div>${arr}`;
  }).join('');
  const extras = s.extras.map(e=>`
    <div class="flow-extra" style="border-color:${e.color}20;color:${e.color}">
      <div class="flow-extra-lbl" style="color:${e.color}">${e.label}</div>
      <div class="flow-extra-sub">${e.sub}</div>
    </div>`).join('');
  return `
    <div class="s-title" style="margin-bottom:6px">${s.title}</div>
    <div class="s-divider" aria-hidden="true"></div>
    <div class="flow-row" style="margin-top:20px" role="list" aria-label="Communication process steps">${nodes}</div>
    <div class="flow-extras">${extras}</div>`;
}

/* ── Elements ── */
function rElements(s){
  const cards = s.items.map(it=>`
    <div class="el-card" style="--cc:${it.color}">
      <div class="el-term" style="color:${it.color};text-shadow:0 0 10px ${it.color}">${it.term}</div>
      <div class="el-desc">${it.desc}</div>
      <div class="el-sub">${it.sub}</div>
    </div>`).join('');
  return `
    <div class="s-title">${s.title}</div>
    <div class="s-subtitle">${s.subtitle}</div>
    <div class="s-divider"></div>
    <div class="el-grid" style="margin-top:14px">${cards}</div>`;
}

/* ── Effective Comm ── */
function rEffective(s){
  const reqs = s.requirements.map(r=>`
    <li class="req-item"><span class="req-arrow">▸</span>${r}</li>`).join('');
  const techs = s.tech_keywords.map(k=>`<span class="tech-badge">${k}</span>`).join('');
  return `
    <div class="s-title" style="margin-bottom:6px">${s.title}</div>
    <div class="s-divider"></div>
    <div class="role-badge" style="color:${s.role_color};border-color:${s.role_color}40;text-shadow:0 0 16px ${s.role_color}">${s.role}</div>
    <ul class="req-list">${reqs}</ul>
    <div class="tech-row">${techs}</div>`;
}

/* ── Model ── */
function rModel(s){
  const pts = s.key_points.map(p=>`
    <li class="model-pt" style="border-left-color:${s.model_color}40;color:var(--text)">
      <span style="color:${s.model_color};min-width:14px">▸</span>${p}
    </li>`).join('');
  return `
    <div class="s-title" style="margin-bottom:4px">${s.title}</div>
    <div class="s-divider"></div>
    <div class="model-name" style="color:${s.model_color}">${s.model_name}</div>
    <div class="model-kw" style="color:${s.model_color};border-color:${s.model_color}">${s.keyword}</div>
    <div class="model-desc">${s.description}</div>
    <ul class="model-points">${pts}</ul>`;
}

/* ── Comparison Table ── */
function rCompare(s){
  const rows = s.rows.map(r=>`
    <tr>
      <td style="color:${s.col1_color}">${r[0]}</td>
      <td style="color:${s.col2_color}">${r[1]}</td>
    </tr>`).join('');
  return `
    <div class="s-title" style="margin-bottom:6px">${s.title}</div>
    <div class="s-divider" aria-hidden="true"></div>
    <table class="comp-table" style="margin-top:14px">
      <caption class="sr-only">${s.title}: ${s.col1} vs ${s.col2}</caption>
      <thead><tr>
        <th scope="col" style="color:${s.col1_color};border-bottom:2px solid ${s.col1_color}">${s.col1}</th>
        <th scope="col" style="color:${s.col2_color};border-bottom:2px solid ${s.col2_color}">${s.col2}</th>
      </tr></thead>
      <tbody>${rows}</tbody>
    </table>`;
}

/* ── Context Card ── */
function rContext(s){
  const pts = s.points.map(p=>`<li class="ctx-pt" style="color:${s.context_color}33">${p}</li>`).join('');
  return `
    <div class="s-title" style="margin-bottom:6px">${s.title}</div>
    <div class="s-divider" aria-hidden="true"></div>
    <div class="ctx-card" style="--cc:${s.context_color}">
      <span class="ctx-icon" style="color:${s.context_color}" aria-hidden="true">${s.icon}</span>
      <div class="ctx-name" style="color:${s.context_color}">${s.context_name}</div>
      <div class="ctx-tagline" style="color:${s.context_color};border-color:${s.context_color}40">${s.tagline}</div>
      <div class="ctx-desc">${s.description}</div>
      <ul class="ctx-points" style="color:${s.context_color}">${pts}</ul>
      <div class="ctx-kw" style="color:${s.context_color};border-color:${s.context_color}60" aria-hidden="true">${s.keyword}</div>
    </div>`;
}

/* ── Types Overview ── */
function rTypesOv(s){
  const v = s.verbal, nv = s.nonverbal;
  const vItems = v.items.map(it=>`<div class="types-panel-item">${it}</div>`).join('');
  const nvItems = nv.items.map(it=>`<div class="types-panel-item">${it}</div>`).join('');
  return `
    <div class="s-title" style="margin-bottom:6px">${s.title}</div>
    <div class="s-divider"></div>
    <div class="types-split" style="margin-top:16px">
      <div class="types-panel" style="border-top:2px solid ${v.color}">
        <div class="types-panel-lbl" style="color:${v.color}">${v.label}</div>${vItems}
      </div>
      <div class="types-panel" style="border-top:2px solid ${nv.color}">
        <div class="types-panel-lbl" style="color:${nv.color}">${nv.label}</div>${nvItems}
      </div>
    </div>`;
}

/* ── Skill Detail ── */
function rSkillDet(s){
  const ctxs = s.contexts.map(c=>`<span class="sk-ctx-chip">${c}</span>`).join('');
  const techs = s.techniques.map(t=>`
    <li class="sk-tech-item" style="--cc:${s.skill_color}">${t}</li>`).join('');
  const extra = s.extra ? `<div class="sk-extra" style="border-color:${s.skill_color}50;color:var(--text-dim)">${s.extra}</div>` : '';
  return `
    <div class="s-title" style="margin-bottom:4px">${s.title}</div>
    <div class="s-divider"></div>
    <div class="sk-name" style="color:${s.skill_color};margin-top:10px">${s.skill_name}</div>
    <div class="s-subtitle" style="color:${s.skill_color}80">${s.skill_sub}</div>
    <div class="sk-contexts">${ctxs}</div>
    <ul class="sk-techniques">${techs}</ul>
    ${extra}`;
}

/* ── Pros/Cons ── */
function rProsCons(s){
  const pros = s.pros.map(p=>`<div class="pc-item">${p}</div>`).join('');
  const cons = s.cons.map(c=>`<div class="pc-item">${c}</div>`).join('');
  return `
    <div class="s-title" style="color:${s.color};margin-bottom:4px">${s.title}</div>
    <div class="s-subtitle">${s.subtitle}</div>
    <div class="s-divider" style="background:${s.color};box-shadow:0 0 8px ${s.color}"></div>
    <div class="pc-grid" style="margin-top:14px">
      <div class="pc-panel pc-pros">
        <div class="pc-lbl">ADVANTAGES</div>${pros}
      </div>
      <div class="pc-panel pc-cons">
        <div class="pc-lbl">LIMITATIONS</div>${cons}
      </div>
    </div>`;
}

/* ── Concept ── */
function rConcept(s){
  const defs = s.definitions.map(d=>`<li class="concept-def-item">${d}</li>`).join('');
  return `
    <div class="s-title" style="margin-bottom:6px">${s.title}</div>
    <div class="s-divider"></div>
    <div class="concept-qbox">${s.main_quote}</div>
    <ul class="concept-defs">${defs}</ul>
    <div class="concept-kw-lg">${s.keyword}</div>`;
}

/* ── Key Skills ── */
function rKeySkills(s){
  const items = s.skills.map((sk,i)=>`
    <div class="ks-item" style="border-left:2px solid ${s.color}40">
      <span class="ks-num" style="color:${s.color}">${String(i+1).padStart(2,'0')}</span>${sk}
    </div>`).join('');
  return `
    <div class="s-title" style="margin-bottom:4px">${s.title}</div>
    <div class="s-subtitle">${s.subtitle}</div>
    <div class="s-divider" style="background:${s.color};box-shadow:0 0 8px ${s.color}"></div>
    <div class="ks-grid" style="margin-top:14px">${items}</div>`;
}

/* ── Education/Work ── */
function rEduWork(s){
  const items = s.points.map((p,i)=>`
    <li class="ew-item" style="border-left-color:${s.color}">
      <span class="ew-num" style="color:${s.color}">${String(i+1).padStart(2,'0')}</span>${p}
    </li>`).join('');
  return `
    <div class="s-title" style="margin-bottom:4px">${s.title}</div>
    <div class="s-subtitle">${s.subtitle}</div>
    <div class="s-divider" style="background:${s.color};box-shadow:0 0 8px ${s.color}"></div>
    <ul class="ew-list" style="margin-top:14px">${items}</ul>`;
}

/* ── Building Skills ── */
function rBuilding(s){
  const items = s.tips.map((t,i)=>`
    <li class="build-item"><div class="build-dot" aria-hidden="true"></div>${t}</li>`).join('');
  return `
    <div class="s-title" style="margin-bottom:4px">${s.title}</div>
    <div class="s-subtitle">${s.subtitle}</div>
    <div class="s-divider" aria-hidden="true"></div>
    <ul class="build-list" style="margin-top:16px">${items}</ul>`;
}

/* ── STAR Method ── */
function rStar(s){
  const cards = s.acronym.map(a=>`
    <div class="star-card" style="border-color:${a.color}40;color:${a.color}">
      <div class="star-letter">${a.letter}</div>
      <div class="star-word">${a.word}</div>
      <div class="star-desc">${a.desc}</div>
    </div>`).join('');
  const tips = s.tips.map(t=>`<span class="star-tip">${t}</span>`).join('');
  return `
    <div class="s-title" style="margin-bottom:4px">${s.title}</div>
    <div class="s-subtitle">${s.subtitle}</div>
    <div class="s-divider"></div>
    <div class="star-grid" style="margin-top:14px">${cards}</div>
    <div class="star-tips-row">${tips}</div>`;
}

/* ── Improvement ── */
function rImprovement(s){
  const cards = s.tips.map(t=>`
    <div class="tip-card" style="border-left-color:${t.color}">
      <span class="tip-num" style="color:${t.color}">${t.num}</span>
      <span class="tip-text">${t.text}</span>
    </div>`).join('');
  return `
    <div class="s-title" style="margin-bottom:4px">${s.title}</div>
    <div class="s-subtitle">${s.subtitle}</div>
    <div class="s-divider"></div>
    <div class="imp-grid" style="margin-top:14px">${cards}</div>`;
}

/* ── Summary ── */
function rSummary(s){
  const chips = s.topics.map((t,i)=>`
    <div class="sum-chip" style="border-left-color:${t.color};--chip-color:${t.color}"
         data-slide-target="${t.slide}" title="Go to: ${t.label}">
      <span class="sum-chip-n">${String(i+1).padStart(2,'0')}</span>${t.label}
    </div>`).join('');
  return `
    <div class="s-title" style="margin-bottom:4px">${s.title}</div>
    <div class="summary-sub">${s.subtitle}</div>
    <div class="s-divider"></div>
    <div class="sum-grid" style="margin-top:12px">${chips}</div>`;
}

/* ======================================================
   BUILD DECK
   ====================================================== */
function buildDeck(){
  const deck = document.getElementById('deck');
  const total = SLIDES_DATA.length;
  SLIDES_DATA.forEach((s,i)=>{
    const sec = document.createElement('section');
    sec.setAttribute('data-id', s.id);
    sec.setAttribute('data-type', s.type);
    sec.setAttribute('aria-roledescription', 'slide');
    const slideLabel = s.title
      ? `Slide ${i+1} of ${total}: ${s.title.replace(/<br>/gi,' ')}`
      : `Slide ${i+1} of ${total}`;
    sec.setAttribute('aria-label', slideLabel);
    sec.innerHTML = renderSlide(s);
    deck.appendChild(sec);
  });
}

/* ======================================================
   GSAP ANIMATIONS
   ====================================================== */
function animateSlide(el, s){
  if(!el || !s) return;
  const type = s.type;
  gsap.killTweensOf(el.querySelectorAll('*'));

  // Respect user's motion preference — show content instantly, skip all animation
  if(window.matchMedia('(prefers-reduced-motion: reduce)').matches){
    gsap.set(el.querySelectorAll('*'),{opacity:1,x:0,y:0,scale:1,rotateX:0,rotateY:0,z:0});
    return;
  }

  const D = {ease:'power3.out'};

  /* helper: staggered fadeIn + slideX */
  function slideIn(targets, opts={}){
    const {delay=0, from=-36, stagger=0.08} = opts;
    gsap.fromTo(targets,
      {opacity:0, x:from},
      {opacity:1, x:0, duration:.55, stagger, delay, ease:D.ease});
  }
  function dropIn(targets, opts={}){
    const {delay=0, ry=-70, stagger=0.1} = opts;
    gsap.fromTo(targets,
      {opacity:0, rotateX:ry, transformPerspective:700},
      {opacity:1, rotateX:0, transformPerspective:700, duration:.65, stagger, delay, ease:'back.out(1.4)'});
  }
  function popIn(targets, opts={}){
    const {delay=0, stagger=0.07} = opts;
    gsap.fromTo(targets,
      {opacity:0, scale:.6, y:20},
      {opacity:1, scale:1, y:0, duration:.5, stagger, delay, ease:'back.out(1.6)'});
  }
  function flipIn(targets, opts={}){
    const {delay=0, stagger=0.12} = opts;
    gsap.fromTo(targets,
      {opacity:0, rotateY:50, transformPerspective:600},
      {opacity:1, rotateY:0, transformPerspective:600, duration:.7, stagger, delay, ease:'back.out(1.2)'});
  }

  if(type==='title'){
    const tl = gsap.timeline({delay:.05});
    tl.fromTo(el.querySelectorAll('.title-corner'),
        {opacity:0,scale:0},{opacity:1,scale:1,duration:.4,stagger:.07,ease:'back.out(2)'})
      .fromTo(el.querySelector('.title-badge'),
        {opacity:0,y:-22},{opacity:1,y:0,duration:.4,ease:D.ease},0.25)
      .fromTo(el.querySelector('.title-main'),
        {opacity:0,rotateX:-80,transformPerspective:900},
        {opacity:1,rotateX:0,transformPerspective:900,duration:.85,ease:'back.out(1.5)'},0.4)
      .fromTo(el.querySelector('.title-line'),
        {opacity:0,scaleX:0},{opacity:1,scaleX:1,duration:.5,ease:'power2.inOut'},1.05)
      .fromTo(el.querySelector('.title-sub'),
        {opacity:0,y:28},{opacity:1,y:0,duration:.5,ease:D.ease},1.15)
      .fromTo(el.querySelector('.title-meta'),
        {opacity:0},{opacity:.6,duration:.45},1.4);
  }
  else if(type==='outline'){
    dropIn([el.querySelector('.s-title'),el.querySelector('.s-divider')],{stagger:.06});
    slideIn(el.querySelectorAll('.outline-item'),{delay:.25,stagger:.08});
  }
  else if(type==='definition'){
    const tl = gsap.timeline({delay:.05});
    tl.fromTo([el.querySelector('.s-title'),el.querySelector('.s-divider')],
        {opacity:0,y:-18},{opacity:1,y:0,duration:.4,stagger:.06})
      .fromTo(el.querySelectorAll('.etym-box,.etym-arrow'),
        {opacity:0,y:-12,scale:.9},{opacity:1,y:0,scale:1,duration:.35,stagger:.06,ease:'back.out(1.5)'},0.3)
      .fromTo(el.querySelector('.def-quote'),
        {opacity:0,scale:.96,transformPerspective:600,rotateX:-8},
        {opacity:1,scale:1,rotateX:0,duration:.65,ease:'power2.out'},0.65)
      .fromTo(el.querySelectorAll('.def-bullet'),
        {opacity:0,x:-28},{opacity:1,x:0,duration:.4,stagger:.07},1.05)
      .fromTo(el.querySelectorAll('.kw-chip'),
        {opacity:0,scale:0},{opacity:1,scale:1,duration:.4,stagger:.07,ease:'back.out(2)'},1.4);
  }
  else if(type==='process_flow'){
    dropIn([el.querySelector('.s-title'),el.querySelector('.s-divider')],{stagger:.06});
    gsap.fromTo(el.querySelectorAll('.flow-node'),
      {opacity:0,z:-40,transformPerspective:600,scale:.8},
      {opacity:1,z:0,scale:1,duration:.55,stagger:.1,delay:.3,ease:'back.out(1.4)'});
    gsap.fromTo(el.querySelectorAll('.flow-arrow'),
      {opacity:0},{opacity:1,duration:.3,stagger:.1,delay:.8});
    gsap.fromTo(el.querySelectorAll('.flow-extra'),
      {opacity:0,y:30},{opacity:1,y:0,duration:.5,stagger:.12,delay:1.1,ease:'back.out(1.4)'});
  }
  else if(type==='elements'){
    dropIn([el.querySelector('.s-title'),el.querySelector('.s-subtitle'),el.querySelector('.s-divider')],{stagger:.05});
    flipIn(el.querySelectorAll('.el-card'),{delay:.3,stagger:.12});
  }
  else if(type==='effective_comm'){
    const tl = gsap.timeline({delay:.05});
    tl.fromTo([el.querySelector('.s-title'),el.querySelector('.s-divider')],
        {opacity:0,y:-16},{opacity:1,y:0,duration:.4,stagger:.06})
      .fromTo(el.querySelector('.role-badge'),
        {opacity:0,rotateX:-40,transformPerspective:500,y:-20},
        {opacity:1,rotateX:0,y:0,duration:.6,ease:'back.out(1.5)'},0.3)
      .fromTo(el.querySelectorAll('.req-item'),
        {opacity:0,x:-36},{opacity:1,x:0,duration:.4,stagger:.07},0.7)
      .fromTo(el.querySelectorAll('.tech-badge'),
        {opacity:0,scale:0},{opacity:1,scale:1,duration:.3,stagger:.06,ease:'back.out(2)'},1.3);
  }
  else if(type==='model'){
    const tl = gsap.timeline({delay:.05});
    tl.fromTo([el.querySelector('.s-title'),el.querySelector('.s-divider')],
        {opacity:0,y:-16},{opacity:1,y:0,duration:.4,stagger:.06})
      .fromTo(el.querySelector('.model-name'),
        {opacity:0,scale:1.4,z:60,transformPerspective:500},
        {opacity:1,scale:1,z:0,duration:.7,ease:'back.out(1.5)'},0.25)
      .fromTo(el.querySelector('.model-kw'),
        {opacity:0,rotateX:-30,transformPerspective:400},
        {opacity:1,rotateX:0,duration:.5,ease:'back.out(1.4)'},0.75)
      .fromTo(el.querySelector('.model-desc'),
        {opacity:0},{opacity:1,duration:.4},1.05)
      .fromTo(el.querySelectorAll('.model-pt'),
        {opacity:0,x:-30},{opacity:1,x:0,duration:.4,stagger:.07},1.15);
  }
  else if(type==='comparison_table'){
    dropIn([el.querySelector('.s-title'),el.querySelector('.s-divider')],{stagger:.06});
    gsap.fromTo(el.querySelectorAll('.comp-table th'),
      {opacity:0,y:-16},{opacity:1,y:0,duration:.4,stagger:.1,delay:.3});
    gsap.fromTo(el.querySelectorAll('.comp-table tr'),
      {opacity:0,y:12},{opacity:1,y:0,duration:.35,stagger:.08,delay:.6});
  }
  else if(type==='context_card'){
    dropIn([el.querySelector('.s-title'),el.querySelector('.s-divider')],{stagger:.06});
    gsap.fromTo(el.querySelector('.ctx-card'),
      {opacity:0,rotateY:22,transformPerspective:800,x:30},
      {opacity:1,rotateY:0,x:0,duration:.75,delay:.3,ease:'back.out(1.3)'});
    gsap.fromTo(el.querySelectorAll('.ctx-icon,.ctx-name,.ctx-tagline,.ctx-desc'),
      {opacity:0,y:12},{opacity:1,y:0,duration:.4,stagger:.07,delay:.7});
    gsap.fromTo(el.querySelectorAll('.ctx-pt'),
      {opacity:0,x:-20},{opacity:1,x:0,duration:.35,stagger:.07,delay:1.0});
    gsap.fromTo(el.querySelector('.ctx-kw'),
      {opacity:0},{opacity:.45,duration:.4,delay:1.5});
  }
  else if(type==='types_overview'){
    dropIn([el.querySelector('.s-title'),el.querySelector('.s-divider')],{stagger:.06});
    const panels = el.querySelectorAll('.types-panel');
    gsap.fromTo(panels[0],{opacity:0,rotateY:-30,transformPerspective:600,x:-40},
      {opacity:1,rotateY:0,x:0,duration:.65,delay:.3,ease:'back.out(1.3)'});
    gsap.fromTo(panels[1],{opacity:0,rotateY:30,transformPerspective:600,x:40},
      {opacity:1,rotateY:0,x:0,duration:.65,delay:.4,ease:'back.out(1.3)'});
    gsap.fromTo(el.querySelectorAll('.types-panel-item'),
      {opacity:0,x:-16},{opacity:1,x:0,duration:.3,stagger:.05,delay:.75});
  }
  else if(type==='skill_detail'){
    const tl = gsap.timeline({delay:.05});
    tl.fromTo([el.querySelector('.s-title'),el.querySelector('.s-divider')],
        {opacity:0,y:-16},{opacity:1,y:0,duration:.4,stagger:.06})
      .fromTo(el.querySelector('.sk-name'),
        {opacity:0,scale:1.2,z:50,transformPerspective:500},
        {opacity:1,scale:1,z:0,duration:.6,ease:'back.out(1.5)'},0.3)
      .fromTo(el.querySelector('.s-subtitle'),
        {opacity:0},{opacity:1,duration:.35},0.72)
      .fromTo(el.querySelectorAll('.sk-ctx-chip'),
        {opacity:0,scale:0},{opacity:1,scale:1,duration:.3,stagger:.04,ease:'back.out(1.8)'},0.8)
      .fromTo(el.querySelectorAll('.sk-tech-item'),
        {opacity:0,x:-30},{opacity:1,x:0,duration:.38,stagger:.07},1.1);
    if(el.querySelector('.sk-extra'))
      tl.fromTo(el.querySelector('.sk-extra'),{opacity:0},{opacity:1,duration:.4},1.6);
  }
  else if(type==='pros_cons'){
    dropIn([el.querySelector('.s-title'),el.querySelector('.s-subtitle'),el.querySelector('.s-divider')],{stagger:.05});
    gsap.fromTo(el.querySelector('.pc-pros'),
      {opacity:0,z:-30,transformPerspective:500},
      {opacity:1,z:0,duration:.6,delay:.3,ease:'power2.out'});
    gsap.fromTo(el.querySelector('.pc-cons'),
      {opacity:0,z:-30,transformPerspective:500},
      {opacity:1,z:0,duration:.6,delay:.42,ease:'power2.out'});
    gsap.fromTo(el.querySelectorAll('.pc-item'),
      {opacity:0,x:-18},{opacity:1,x:0,duration:.32,stagger:.06,delay:.7});
  }
  else if(type==='concept'){
    const tl = gsap.timeline({delay:.05});
    tl.fromTo([el.querySelector('.s-title'),el.querySelector('.s-divider')],
        {opacity:0,y:-16},{opacity:1,y:0,duration:.4,stagger:.06})
      .fromTo(el.querySelector('.concept-qbox'),
        {opacity:0,rotateX:-14,transformPerspective:600,y:20},
        {opacity:1,rotateX:0,y:0,duration:.7,ease:'power2.out'},0.3)
      .fromTo(el.querySelectorAll('.concept-def-item'),
        {opacity:0,x:-24},{opacity:1,x:0,duration:.38,stagger:.08},0.85)
      .fromTo(el.querySelector('.concept-kw-lg'),
        {opacity:0,scale:1.5,z:60,transformPerspective:400},
        {opacity:1,scale:1,z:0,duration:.7,ease:'back.out(1.5)'},1.45);
  }
  else if(type==='key_skills'){
    dropIn([el.querySelector('.s-title'),el.querySelector('.s-subtitle'),el.querySelector('.s-divider')],{stagger:.05});
    gsap.fromTo(el.querySelectorAll('.ks-item'),
      {opacity:0,z:-25,transformPerspective:500,scale:.9},
      {opacity:1,z:0,scale:1,duration:.45,stagger:.07,delay:.3,ease:'back.out(1.5)'});
  }
  else if(type==='education_work'){
    dropIn([el.querySelector('.s-title'),el.querySelector('.s-subtitle'),el.querySelector('.s-divider')],{stagger:.05});
    slideIn(el.querySelectorAll('.ew-item'),{delay:.3,stagger:.08});
  }
  else if(type==='building_skills'){
    dropIn([el.querySelector('.s-title'),el.querySelector('.s-subtitle'),el.querySelector('.s-divider')],{stagger:.05});
    slideIn(el.querySelectorAll('.build-item'),{delay:.3,stagger:.1});
  }
  else if(type==='star_method'){
    dropIn([el.querySelector('.s-title'),el.querySelector('.s-subtitle'),el.querySelector('.s-divider')],{stagger:.05});
    el.querySelectorAll('.star-card').forEach((card,i)=>{
      gsap.fromTo(card,
        {opacity:0,rotateX:50,y:30,transformPerspective:500},
        {opacity:1,rotateX:0,y:0,duration:.65,delay:.25+i*.14,ease:'back.out(1.5)'});
    });
    gsap.fromTo(el.querySelectorAll('.star-tip'),
      {opacity:0,y:16},{opacity:1,y:0,duration:.35,stagger:.06,delay:1.1});
  }
  else if(type==='improvement'){
    dropIn([el.querySelector('.s-title'),el.querySelector('.s-subtitle'),el.querySelector('.s-divider')],{stagger:.05});
    gsap.fromTo(el.querySelectorAll('.tip-card'),
      {opacity:0,z:-28,transformPerspective:500,scale:.9},
      {opacity:1,z:0,scale:1,duration:.42,stagger:.05,delay:.3,ease:'back.out(1.4)'});
  }
  else if(type==='summary'){
    const tl = gsap.timeline({delay:.05});
    tl.fromTo([el.querySelector('.s-title'),el.querySelector('.summary-sub'),el.querySelector('.s-divider')],
        {opacity:0,y:-18},{opacity:1,y:0,duration:.45,stagger:.07})
      .fromTo(el.querySelectorAll('.sum-chip'),
        {opacity:0,scale:.7,y:18},
        {opacity:1,scale:1,y:0,duration:.4,stagger:.04,ease:'back.out(1.5)'},0.4);
  }
  else {
    gsap.fromTo(el.children,{opacity:0,y:20},{opacity:1,y:0,duration:.5,stagger:.08});
  }
}

/* ======================================================
   UI UPDATES
   ====================================================== */
function updateUI(idx){
  const total = SLIDES_DATA.length;
  const pct = Math.round((idx/(total-1))*100);
  document.getElementById('progress-bar').style.width = pct+'%';

  const counter = document.getElementById('slide-counter');
  counter.textContent = String(idx+1).padStart(2,'0')+' / '+String(total).padStart(2,'0');

  const prog = document.getElementById('progress-container');
  prog.setAttribute('aria-valuenow', pct);

  // Announce slide to screen readers
  const data = SLIDES_DATA[idx];
  const label = data?.title
    ? `Slide ${idx+1} of ${total}: ${data.title.replace(/<br>/gi,' ')}`
    : `Slide ${idx+1} of ${total}`;
  document.getElementById('sr-announcer').textContent = '';
  // Tiny delay so the DOM mutation fires a fresh announcement
  setTimeout(()=>{ document.getElementById('sr-announcer').textContent = label; }, 50);
}

/* ======================================================
   SUMMARY CHIP NAVIGATION
   ====================================================== */
function bindSummaryChips(){
  document.querySelectorAll('[data-slide-target]').forEach(chip=>{
    // Make focusable if not already a natively interactive element
    if(!chip.tabIndex || chip.tabIndex < 0) chip.setAttribute('tabindex','0');
    chip.setAttribute('role','button');

    const navigate = ()=>{
      const target = parseInt(chip.getAttribute('data-slide-target'));
      if(!isNaN(target)) Reveal.slide(target,0,0);
    };

    chip.addEventListener('click', navigate);
    chip.addEventListener('keydown', e=>{
      if(e.key==='Enter'||e.key===' '){
        e.preventDefault();
        navigate();
      }
    });
  });
}

/* ======================================================
   THEME TOGGLE  (button click  OR  press T)
   ====================================================== */
let isDark = true;

function applyTheme(dark){
  isDark = dark;
  const html = document.documentElement;
  const optDark  = document.getElementById('tgl-dark');
  const optLight = document.getElementById('tgl-light');

  if(dark){
    html.classList.remove('light');
    optDark.classList.add('active');
    optLight.classList.remove('active');
    optDark.setAttribute('aria-pressed','true');
    optLight.setAttribute('aria-pressed','false');
  } else {
    html.classList.add('light');
    optLight.classList.add('active');
    optDark.classList.remove('active');
    optLight.setAttribute('aria-pressed','true');
    optDark.setAttribute('aria-pressed','false');
  }

  // Ripple flash effect (skipped if reduced-motion)
  const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  if(!prefersReduced){
    const flash = document.createElement('div');
    Object.assign(flash.style, {
      position:'fixed', inset:'0', zIndex:'9999', pointerEvents:'none',
      background: dark ? 'rgba(0,0,0,.35)' : 'rgba(255,255,255,.45)',
      opacity:'1'
    });
    document.body.appendChild(flash);
    gsap.to(flash, {opacity:0, duration:.55, ease:'power2.out',
      onComplete:()=>flash.remove()});
  }
}

document.getElementById('theme-toggle').addEventListener('click', e=>{
  const clickedLight = e.target.closest('#tgl-light');
  const clickedDark  = e.target.closest('#tgl-dark');
  if(clickedLight && isDark)  applyTheme(false);
  if(clickedDark  && !isDark) applyTheme(true);
});

document.addEventListener('keydown', e=>{
  if((e.key==='t'||e.key==='T') && !e.ctrlKey && !e.metaKey){
    applyTheme(!isDark);
  }
});

/* ======================================================
   RECORDING MODE
   ====================================================== */
let recMode = false;
document.addEventListener('keydown', e=>{
  if((e.key==='r'||e.key==='R') && !e.ctrlKey && !e.metaKey){
    recMode = !recMode;
    document.body.classList.toggle('rec-mode', recMode);
    const ind = document.getElementById('recording-indicator');
    if(recMode){
      ind.style.display = 'block';
      gsap.fromTo(ind,{opacity:1},{opacity:0,delay:1.8,duration:.5,
        onComplete:()=>{ ind.style.display='none'; }});
    }
  }
});

/* ======================================================
   INIT
   ====================================================== */
buildDeck();

Reveal.initialize({
  hash: false,
  controls: true,
  controlsTutorial: false,
  progress: false,
  slideNumber: false,
  transition: 'none',
  backgroundTransition: 'none',
  keyboard: true,
  overview: true,
  center: false,
  touch: true,
  loop: false,
  width: '100%',
  height: '100%',
  margin: 0,
});

Reveal.on('ready', e=>{
  animateSlide(e.currentSlide, SLIDES_DATA[0]);
  updateUI(0);
  bindSummaryChips();
});

Reveal.on('slidechanged', e=>{
  const idx = e.indexh;
  const data = SLIDES_DATA[idx];
  animateSlide(e.currentSlide, data);
  updateUI(idx);
});
</script>
</body>
</html>
